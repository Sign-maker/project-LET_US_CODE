{"version":3,"file":"commonHelpers.js","sources":["../src/js/cart/cartHandler.js","../src/js/cart/markup-cart-product.js","../src/js/cart/cart-products.js"],"sourcesContent":["import { ShopStorage } from '../local-storage-api';\n\nconst SHOP_STORAGE = 'shop-storage';\nconst shopStorage = new ShopStorage(SHOP_STORAGE);\n\n// const product1 = {\n//   _id: '640c2dd963a319ea671e383b',\n//   name: 'Ackee',\n//   desc: 'A fruit that is native to West Africa, but is also grown in the Caribbean, and is often used in traditional Jamaican dishes such as ackee and saltfish.',\n//   img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e383b.png',\n//   category: 'Fresh_Produce',\n//   price: 8.99,\n//   size: '16 oz',\n//   is10PercentOff: false,\n//   popularity: 2,\n// };\n// const product2 = {\n//   _id: '640c2dd963a319ea671e3864',\n//   name: 'Black Beans',\n//   img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e3864.png',\n//   category: 'Pantry_Items',\n//   price: 1.99,\n//   size: '16oz',\n//   is10PercentOff: false,\n//   popularity: 0,\n// };\n// const product3 = {\n//   _id: '640c2dd963a319ea671e37ad',\n//   name: 'Black Olives',\n//   img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e37ad.png',\n//   category: 'Fresh_Produce',\n//   price: 3.99,\n//   size: '1 jar (16 oz)',\n//   is10PercentOff: false,\n//   popularity: 0,\n// };\n\n// console.log(shopStorage.getAllProducts());\n// // shopStorage.setProduct();\n// shopStorage.setProduct(product1);\n// shopStorage.setProduct(product2);\n// shopStorage.setProduct(product3);\n// console.log(shopStorage.getAllProducts());\n// shopStorage.removeProduct('640c2dd963a319ea671e37ad');\n// console.log(shopStorage.getAllProducts());\n// shopStorage.removeAllProducts();\n// console.log(shopStorage.getAllProducts());","const localStorageCartProduct = [\n  {\n    _id: '640c2dd963a319ea671e383b',\n    name: 'Ackee',\n    img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e383b.png',\n    category: 'Fresh_Produce',\n    price: 8.99,\n    size: '16 oz',\n    is10PercentOff: false,\n    popularity: 8,\n  },\n  {\n    _id: '640c2dd963a319ea671e3860',\n    name: 'Allspice',\n    img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e3860.png',\n    category: 'Pantry_Items',\n    price: 2.99,\n    size: '1.5oz',\n    is10PercentOff: false,\n    popularity: 8,\n  },\n  {\n    _id: '640c2dd963a319ea671e3660',\n    name: 'Apple Cider Vinegar',\n    img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e3660.png',\n    price: 6.99,\n    size: '500 ml',\n    category: 'Pantry_Items',\n    is10PercentOff: false,\n    popularity: 0,\n  },\n  {\n    _id: '640c2dd963a319ea671e3861',\n    name: 'Almond Extract',\n    img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e3861.png',\n    category: 'Pantry_Items',\n    price: 4.99,\n    size: '2oz',\n    is10PercentOff: false,\n    popularity: 0,\n  },\n];\n\nexport function markupCartProduct(arr) {\n  return arr\n    .map(({ category, img, name, price, size, _id }) => {\n      return `<li class=\"cart-item\" data-id=\"${_id}\">\n      <img class=\"cart-img-product\" src=\"${img}\" alt=\"${name}\" />\n      <div class=\"cart-product-description\">\n          <p class=\"cart-product-name\">${name}</p>\n          <p class=\"cart-product-text\">Category: <span class=\"cart-text-black gap\">${category}</span>  Size: <span class=\"cart-text-black\">${size}</span></p>\n          <p class=\"cart-product-price\">$${price}</p>\n      </div>\n      <button type=\"button\" class=\"cart-product-close-btn\">\n          <svg class=\"cart-icon-close\">\n              <use href=\"./icons.svg#icon-close\"></use>\n          </svg>\n      </button>\n  </li>`;\n    })\n    .join('');\n}\n\n// const cartList = document.querySelector('.cart-list');\n// cartList.innerHTML = markupCartProduct(localStorageCartProduct);\n\n// console.log(localStorageCartProduct.length > 3);\n// function addScrollProductInCart(localStorageCartProduct) {\n//   if (localStorageCartProduct.length > 3) {\n//     cartList.style.oveflow = 'overlay';\n//   }\n//   return;\n// }\n// addScrollProductInCart(localStorageCartProduct);\n","import { markupCartProduct } from './markup-cart-product';\nimport { ShopStorage } from '../local-storage-api';\n\nlet countInCart = 0;\nlet arrCarts = [];\n\nconst navSpanForCartRef = document.querySelector('.nav-span');\nconst cardListOrder = document.querySelector('.cart-list');\n\nconst shopStorage = new ShopStorage('shop-storage');\n\ncardListOrder.addEventListener('click', onRemoveOrderFromCartClick);\n\n// Видалення всіх товарів з корзини та з ShopStorage\nconst deleteAllBtn = document.querySelector('.js-delete-all-btn');\n\ndeleteAllBtn.addEventListener('click', () => {\n  // Очищення корзини (UI)\n  cardListOrder.innerHTML = '';\n\n  // Очищення корзини (ShopStorage)\n  shopStorage.removeAllProducts();\n\n  // Оновлення кількості товарів в корзині в інтерфейсі\n  changeNumberInCart(0);\n});\n\n\nfunction checkedShopStorage() {\n  const getLocalCart = shopStorage.getAllProducts() ?? [];\n  arrCarts = getLocalCart;\n\n  cardListOrder.innerHTML = markupCartProduct(arrCarts);\n\n  totalPrice(arrCarts);\n  changeNumberInCart(arrCarts.length);\n}\n\ncheckedShopStorage();\n\nfunction changeNumberInCart(number) {\n  navSpanForCartRef.textContent = number;\n}\n\nfunction totalPrice(arr) {\n  if (!arr.length) return;\n\n  return arr.reduce((acc, item) => {\n    return (acc += item.price);\n  }, 0);\n}\n\nfunction onRemoveOrderFromCartClick(e) {\n  if (!e.target.closest('.cart-product-close-btn')) return;\n\n  const objFromLi = e.target.closest('li');\n  const dataIdItem = objFromLi.dataset.id;\n\n  const findElementFromShopStorage = shopStorage.getAllProducts().filter(\n    item => item._id !== dataIdItem\n  );\n\n  shopStorage.setAllProduct(findElementFromShopStorage);\n  checkedShopStorage();\n}\n"],"names":["SHOP_STORAGE","ShopStorage","markupCartProduct","arr","category","img","name","price","size","_id","arrCarts","navSpanForCartRef","cardListOrder","shopStorage","onRemoveOrderFromCartClick","deleteAllBtn","changeNumberInCart","checkedShopStorage","totalPrice","number","acc","item","e","dataIdItem","findElementFromShopStorage"],"mappings":"0FAEA,MAAMA,EAAe,eACD,IAAIC,EAAYD,CAAY,ECwCzC,SAASE,EAAkBC,EAAK,CACrC,OAAOA,EACJ,IAAI,CAAC,CAAE,SAAAC,EAAU,IAAAC,EAAK,KAAAC,EAAM,MAAAC,EAAO,KAAAC,EAAM,IAAAC,KACjC,kCAAkCA;AAAA,2CACJJ,WAAaC;AAAA;AAAA,yCAEfA;AAAA,qFAC4CF,iDAAwDI;AAAA,2CAClGD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAQtC,EACA,KAAK,EAAE,CACZ,CCzDA,IAAIG,EAAW,CAAA,EAEf,MAAMC,EAAoB,SAAS,cAAc,WAAW,EACtDC,EAAgB,SAAS,cAAc,YAAY,EAEnDC,EAAc,IAAIZ,EAAY,cAAc,EAElDW,EAAc,iBAAiB,QAASE,CAA0B,EAGlE,MAAMC,EAAe,SAAS,cAAc,oBAAoB,EAEhEA,EAAa,iBAAiB,QAAS,IAAM,CAE3CH,EAAc,UAAY,GAG1BC,EAAY,kBAAiB,EAG7BG,EAAmB,CAAC,CACtB,CAAC,EAGD,SAASC,GAAqB,CAE5BP,EADqBG,EAAY,eAAc,GAAM,CAAA,EAGrDD,EAAc,UAAYV,EAAkBQ,CAAQ,EAEpDQ,EAAWR,CAAQ,EACnBM,EAAmBN,EAAS,MAAM,CACpC,CAEAO,IAEA,SAASD,EAAmBG,EAAQ,CAClCR,EAAkB,YAAcQ,CAClC,CAEA,SAASD,EAAWf,EAAK,CACvB,GAAKA,EAAI,OAET,OAAOA,EAAI,OAAO,CAACiB,EAAKC,IACdD,GAAOC,EAAK,MACnB,CAAC,CACN,CAEA,SAASP,EAA2BQ,EAAG,CACrC,GAAI,CAACA,EAAE,OAAO,QAAQ,yBAAyB,EAAG,OAGlD,MAAMC,EADYD,EAAE,OAAO,QAAQ,IAAI,EACV,QAAQ,GAE/BE,EAA6BX,EAAY,eAAc,EAAG,OAC9DQ,GAAQA,EAAK,MAAQE,CACzB,EAEEV,EAAY,cAAcW,CAA0B,EACpDP,GACF"}