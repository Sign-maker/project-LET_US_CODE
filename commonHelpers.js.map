{"version":3,"file":"commonHelpers.js","sources":["../src/js/cart/markup-cart-product.js","../src/js/cart/cart-order.js"],"sourcesContent":["// const localStorageCartProduct = [\n//   {\n//     _id: '640c2dd963a319ea671e383b',\n//     name: 'Ackee',\n//     img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e383b.png',\n//     category: 'Fresh_Produce',\n//     price: 8.99,\n//     size: '16 oz',\n//     is10PercentOff: false,\n//     popularity: 8,\n//   },\n//   {\n//     _id: '640c2dd963a319ea671e3860',\n//     name: 'Allspice',\n//     img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e3860.png',\n//     category: 'Pantry_Items',\n//     price: 2.99,\n//     size: '1.5oz',\n//     is10PercentOff: false,\n//     popularity: 8,\n//   },\n//   {\n//     _id: '640c2dd963a319ea671e3660',\n//     name: 'Apple Cider Vinegar',\n//     img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e3660.png',\n//     price: 6.99,\n//     size: '500 ml',\n//     category: 'Pantry_Items',\n//     is10PercentOff: false,\n//     popularity: 0,\n//   },\n//   {\n//     _id: '640c2dd963a319ea671e3861',\n//     name: 'Almond Extract',\n//     img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e3861.png',\n//     category: 'Pantry_Items',\n//     price: 4.99,\n//     size: '2oz',\n//     is10PercentOff: false,\n//     popularity: 0,\n//   },\n// ];\n\nexport function markupCartProduct(arr) {\n  return arr\n    .map(({ category, img, is10PercentOff, name, price, size, _id }) => {\n      return `<li class=\"cart-item\" data-id=\"${_id}\">\n      <img class=\"cart-img-product\" src=\"${img}\" alt=\"${name}\" />\n      <div class=\"cart-product-description\">\n          <p class=\"cart-product-name\">${name}</p>\n          <p class=\"cart-product-text\">Category: <span class=\"cart-text-black gap\">${category}</span>  Size: <span class=\"cart-text-black\">${size}</span></p>\n          <p class=\"cart-product-price\">$${price}</p>\n      </div>\n      <button type=\"button\" class=\"cart-product-close-btn\">\n          <svg class=\"cart-icon-close\">\n              <use href=\"./icons.svg#icon-close\"></use>\n          </svg>\n      </button>\n  </li>`;\n    })\n    .join('');\n}\n\n// const cartList = document.querySelector('.cart-list');\n// cartList.innerHTML = markupCartProduct(localStorageCartProduct);\n\n// console.log(localStorageCartProduct.length > 3);\n// function addScrollProductInCart(localStorageCartProduct) {\n//   if (localStorageCartProduct.length > 3) {\n//     cartList.style.oveflow = 'overlay';\n//   }\n//   return;\n// }\n// addScrollProductInCart(localStorageCartProduct);\n","import { markupCartProduct } from \"./markup-cart-product\";\n\nlet countInCart = 0;\nlet arrCarts = [];\n\nconst navSpanForCartRef = document.querySelector('.nav-span');\nconst cardListOrder = document.querySelector('.cart-list');\n\ncardListOrder.addEventListener('click', onRemoveOrderFromCartClick);\n// clearListOrder.addEventListener('click', onClearListBtnClick);\n\n\n\nfunction checkedLocalStorage() {\n  const getLocalCart =\n    JSON.parse(localStorage.getItem('popularProducts')) ?? [];\n\n  // const countCart = getLocalCart.length;\n  arrCarts = getLocalCart;\n\n  cardListOrder.innerHTML = markupCartProduct(arrCarts);\n\n//   const cartList = document.querySelector('.cart-list');\n// cartList.innerHTML = markupCartProduct(localStorageCartProduct);\n\n  totalPrice(arrCarts);\n  console.log(\"Total price:\", totalPrice(arrCarts) ?? 0);\n  changeNumberInCart(arrCarts.length);\n}\n\ncheckedLocalStorage();\n\n// console.log(checkedLocalStorage());\n\n\n\nfunction changeNumberInCart(number) {\n  navSpanForCartRef.textContent = number;\n}\n\nfunction totalPrice(arr) {\n  if (!arr.length) return;\n\n  return arr.reduce((acc, item) => {\n    return (acc += item.price);\n  }, 0);\n}\n\nfunction onRemoveOrderFromCartClick(e) {\n//   if (\n//     e.target.nodeName !== 'BUTTON' ||\n//     e.target.classList.contains('cart-product-close-btn')\n//   )\n\n    if (!e.target.closest('.cart-product-close-btn'))return;\n\n  const objFromLi = e.target.closest('li');\n  const dataIdItem = objFromLi.dataset.id;\n\n  const getLocalCart =\n    JSON.parse(localStorage.getItem('popularProducts')) ?? [];\n\n  const findElementFromLocalStorage = getLocalCart.filter(item => item._id !== dataIdItem);\n\n  localStorage.setItem('popularProducts', JSON.stringify(findElementFromLocalStorage));\n\n  checkedLocalStorage()\n}\n\n\nfunction onClearListBtnClick(e) {\n  console.log(e.target);\n}"],"names":["markupCartProduct","arr","category","img","is10PercentOff","name","price","size","_id","arrCarts","navSpanForCartRef","cardListOrder","onRemoveOrderFromCartClick","checkedLocalStorage","totalPrice","changeNumberInCart","number","acc","item","e","dataIdItem","findElementFromLocalStorage"],"mappings":"oCA2CO,SAASA,EAAkBC,EAAK,CACrC,OAAOA,EACJ,IAAI,CAAC,CAAE,SAAAC,EAAU,IAAAC,EAAK,eAAAC,EAAgB,KAAAC,EAAM,MAAAC,EAAO,KAAAC,EAAM,IAAAC,KACjD,kCAAkCA;AAAA,2CACJL,WAAaE;AAAA;AAAA,yCAEfA;AAAA,qFAC4CH,iDAAwDK;AAAA,2CAClGD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAQtC,EACA,KAAK,EAAE,CACZ,CC1DA,IAAIG,EAAW,CAAA,EAEf,MAAMC,EAAoB,SAAS,cAAc,WAAW,EACtDC,EAAgB,SAAS,cAAc,YAAY,EAEzDA,EAAc,iBAAiB,QAASC,CAA0B,EAKlE,SAASC,GAAsB,CAK7BJ,EAHE,KAAK,MAAM,aAAa,QAAQ,iBAAiB,CAAC,GAAK,GAKzDE,EAAc,UAAYX,EAAkBS,CAAQ,EAKpDK,EAAWL,CAAQ,EACnB,QAAQ,IAAI,eAAgBK,EAAWL,CAAQ,GAAK,CAAC,EACrDM,EAAmBN,EAAS,MAAM,CACpC,CAEAI,IAMA,SAASE,EAAmBC,EAAQ,CAClCN,EAAkB,YAAcM,CAClC,CAEA,SAASF,EAAWb,EAAK,CACvB,GAAKA,EAAI,OAET,OAAOA,EAAI,OAAO,CAACgB,EAAKC,IACdD,GAAOC,EAAK,MACnB,CAAC,CACN,CAEA,SAASN,EAA2BO,EAAG,CAMnC,GAAI,CAACA,EAAE,OAAO,QAAQ,yBAAyB,EAAE,OAGnD,MAAMC,EADYD,EAAE,OAAO,QAAQ,IAAI,EACV,QAAQ,GAK/BE,GAFJ,KAAK,MAAM,aAAa,QAAQ,iBAAiB,CAAC,GAAK,IAER,OAAOH,GAAQA,EAAK,MAAQE,CAAU,EAEvF,aAAa,QAAQ,kBAAmB,KAAK,UAAUC,CAA2B,CAAC,EAEnFR,EAAqB,CACvB"}