{"version":3,"file":"commonHelpers.js","sources":["../src/js/cart/cartHandler.js","../src/js/cart/markup-cart-product.js","../src/js/cart/cart-order.js"],"sourcesContent":["import { ShopStorage } from '../local-storage-api';\n\nconst SHOP_STORAGE = 'shop-storage';\nconst shopStorage = new ShopStorage(SHOP_STORAGE);\n\n// const product1 = {\n//   _id: '640c2dd963a319ea671e383b',\n//   name: 'Ackee',\n//   desc: 'A fruit that is native to West Africa, but is also grown in the Caribbean, and is often used in traditional Jamaican dishes such as ackee and saltfish.',\n//   img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e383b.png',\n//   category: 'Fresh_Produce',\n//   price: 8.99,\n//   size: '16 oz',\n//   is10PercentOff: false,\n//   popularity: 2,\n// };\n// const product2 = {\n//   _id: '640c2dd963a319ea671e3864',\n//   name: 'Black Beans',\n//   img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e3864.png',\n//   category: 'Pantry_Items',\n//   price: 1.99,\n//   size: '16oz',\n//   is10PercentOff: false,\n//   popularity: 0,\n// };\n// const product3 = {\n//   _id: '640c2dd963a319ea671e37ad',\n//   name: 'Black Olives',\n//   img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e37ad.png',\n//   category: 'Fresh_Produce',\n//   price: 3.99,\n//   size: '1 jar (16 oz)',\n//   is10PercentOff: false,\n//   popularity: 0,\n// };\n\n// console.log(shopStorage.getAllProducts());\n// // shopStorage.setProduct();\n// shopStorage.setProduct(product1);\n// shopStorage.setProduct(product2);\n// shopStorage.setProduct(product3);\n// console.log(shopStorage.getAllProducts());\n// shopStorage.removeProduct('640c2dd963a319ea671e37ad');\n// console.log(shopStorage.getAllProducts());\n// shopStorage.removeAllProducts();\n// console.log(shopStorage.getAllProducts());\n","const localStorageCartProduct = [\n  {\n    _id: '640c2dd963a319ea671e383b',\n    name: 'Ackee',\n    img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e383b.png',\n    category: 'Fresh_Produce',\n    price: 8.99,\n    size: '16 oz',\n    is10PercentOff: false,\n    popularity: 8,\n  },\n  {\n    _id: '640c2dd963a319ea671e3860',\n    name: 'Allspice',\n    img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e3860.png',\n    category: 'Pantry_Items',\n    price: 2.99,\n    size: '1.5oz',\n    is10PercentOff: false,\n    popularity: 8,\n  },\n  {\n    _id: '640c2dd963a319ea671e3660',\n    name: 'Apple Cider Vinegar',\n    img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e3660.png',\n    price: 6.99,\n    size: '500 ml',\n    category: 'Pantry_Items',\n    is10PercentOff: false,\n    popularity: 0,\n  },\n  {\n    _id: '640c2dd963a319ea671e3861',\n    name: 'Almond Extract',\n    img: 'https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e3861.png',\n    category: 'Pantry_Items',\n    price: 4.99,\n    size: '2oz',\n    is10PercentOff: false,\n    popularity: 0,\n  },\n];\n\nexport function markupCartProduct(arr) {\n  return arr\n    .map(({ category, img, name, price, size, _id }) => {\n      return `<li class=\"cart-item\" data-id=\"${_id}\">\n      <img class=\"cart-img-product\" src=\"${img}\" alt=\"${name}\" />\n      <div class=\"cart-product-description\">\n          <p class=\"cart-product-name\">${name}</p>\n          <p class=\"cart-product-text\">Category: <span class=\"cart-text-black gap\">${category}</span>  Size: <span class=\"cart-text-black\">${size}</span></p>\n          <p class=\"cart-product-price\">$${price}</p>\n      </div>\n      <button type=\"button\" class=\"cart-product-close-btn\">\n          <svg class=\"cart-icon-close\">\n              <use href=\"./icons.svg#icon-close\"></use>\n          </svg>\n      </button>\n  </li>`;\n    })\n    .join('');\n}\n\nconst cartList = document.querySelector('.cart-list');\ncartList.innerHTML = markupCartProduct(localStorageCartProduct);\n\n// console.log(localStorageCartProduct.length > 3);\n// function addScrollProductInCart(localStorageCartProduct) {\n//   if (localStorageCartProduct.length > 3) {\n//     cartList.style.oveflow = 'overlay';\n//   }\n//   return;\n// }\n// addScrollProductInCart(localStorageCartProduct);\n","import { markupCartProduct } from './markup-cart-product';\nimport { Storage } from '../local-storage-api';\n\nlet countInCart = 0;\nlet arrCarts = [];\n\nconst navSpanForCartRef = document.querySelector('.nav-span');\nconst cardListOrder = document.querySelector('.cart-list');\n\nconst shopStorage = new Storage('shop-storage');\n\ncardListOrder.addEventListener('click', onRemoveOrderFromCartClick);\n// clearListOrder.addEventListener('click', onClearListBtnClick);\n\nfunction checkedLocalStorage() {\n  const getLocalCart =\n    // JSON.parse(localStorage.getItem('popularity-storage')) ?? [];\n    JSON.parse(localStorage.getItem('shop-storage')) ?? [];\n\n  const getLocalCartArray = [];\n  getLocalCartArray.push(shopStorage.getValue());\n  // console.log(shopStorage.getValue());\n  // console.log(getLocalCartArray);\n\n  // const countCart = getLocalCart.length;\n  arrCarts = getLocalCartArray;\n\n  cardListOrder.innerHTML = markupCartProduct(arrCarts);\n\n  //   const cartList = document.querySelector('.cart-list');\n  // cartList.innerHTML = markupCartProduct(localStorageCartProduct);\n\n  totalPrice(arrCarts);\n  console.log('Total price:', totalPrice(arrCarts) ?? 0);\n  changeNumberInCart(arrCarts.length);\n}\n\ncheckedLocalStorage();\n\n// console.log(checkedLocalStorage());\n\nfunction changeNumberInCart(number) {\n  navSpanForCartRef.textContent = number;\n}\n\nfunction totalPrice(arr) {\n  if (!arr.length) return;\n\n  return arr.reduce((acc, item) => {\n    return (acc += item.price);\n  }, 0);\n}\n\nfunction onRemoveOrderFromCartClick(e) {\n  //   if (\n  //     e.target.nodeName !== 'BUTTON' ||\n  //     e.target.classList.contains('cart-product-close-btn')\n  //   )\n\n  if (!e.target.closest('.cart-product-close-btn')) return;\n\n  const objFromLi = e.target.closest('li');\n  const dataIdItem = objFromLi.dataset.id;\n\n  const getLocalCart =\n    // JSON.parse(localStorage.getItem('shop-storage')) ?? [];\n    shopStorage.getValue() ?? [];\n\n  const findElementFromLocalStorage = getLocalCart.filter(\n    item => item._id !== dataIdItem\n  );\n\n  localStorage.setItem(\n    'popularProducts',\n    JSON.stringify(findElementFromLocalStorage)\n  );\n\n  checkedLocalStorage();\n}\n\nfunction onClearListBtnClick(e) {\n  console.log(e.target);\n}\n"],"names":["SHOP_STORAGE","ShopStorage","localStorageCartProduct","markupCartProduct","arr","category","img","name","price","size","_id","cartList","arrCarts","navSpanForCartRef","cardListOrder","shopStorage","Storage","onRemoveOrderFromCartClick","checkedLocalStorage","getLocalCartArray","totalPrice","changeNumberInCart","number","acc","item","e","dataIdItem","findElementFromLocalStorage"],"mappings":"kEAEA,MAAMA,EAAe,eACD,IAAIC,EAAYD,CAAY,ECHhD,MAAME,EAA0B,CAC9B,CACE,IAAK,2BACL,KAAM,QACN,IAAK,+EACL,SAAU,gBACV,MAAO,KACP,KAAM,QACN,eAAgB,GAChB,WAAY,CACb,EACD,CACE,IAAK,2BACL,KAAM,WACN,IAAK,+EACL,SAAU,eACV,MAAO,KACP,KAAM,QACN,eAAgB,GAChB,WAAY,CACb,EACD,CACE,IAAK,2BACL,KAAM,sBACN,IAAK,+EACL,MAAO,KACP,KAAM,SACN,SAAU,eACV,eAAgB,GAChB,WAAY,CACb,EACD,CACE,IAAK,2BACL,KAAM,iBACN,IAAK,+EACL,SAAU,eACV,MAAO,KACP,KAAM,MACN,eAAgB,GAChB,WAAY,CACb,CACH,EAEO,SAASC,EAAkBC,EAAK,CACrC,OAAOA,EACJ,IAAI,CAAC,CAAE,SAAAC,EAAU,IAAAC,EAAK,KAAAC,EAAM,MAAAC,EAAO,KAAAC,EAAM,IAAAC,KACjC,kCAAkCA;AAAA,2CACJJ,WAAaC;AAAA;AAAA,yCAEfA;AAAA,qFAC4CF,iDAAwDI;AAAA,2CAClGD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAQtC,EACA,KAAK,EAAE,CACZ,CAEA,MAAMG,EAAW,SAAS,cAAc,YAAY,EACpDA,EAAS,UAAYR,EAAkBD,CAAuB,EC5D9D,IAAIU,EAAW,CAAA,EAEf,MAAMC,EAAoB,SAAS,cAAc,WAAW,EACtDC,EAAgB,SAAS,cAAc,YAAY,EAEnDC,EAAc,IAAIC,EAAQ,cAAc,EAE9CF,EAAc,iBAAiB,QAASG,CAA0B,EAGlE,SAASC,GAAsB,CAG3B,KAAK,MAAM,aAAa,QAAQ,cAAc,CAAC,EAEjD,MAAMC,EAAoB,CAAA,EAC1BA,EAAkB,KAAKJ,EAAY,SAAU,CAAA,EAK7CH,EAAWO,EAEXL,EAAc,UAAYX,EAAkBS,CAAQ,EAKpDQ,EAAWR,CAAQ,EACnB,QAAQ,IAAI,eAAgBQ,EAAWR,CAAQ,GAAK,CAAC,EACrDS,EAAmBT,EAAS,MAAM,CACpC,CAEAM,IAIA,SAASG,EAAmBC,EAAQ,CAClCT,EAAkB,YAAcS,CAClC,CAEA,SAASF,EAAWhB,EAAK,CACvB,GAAKA,EAAI,OAET,OAAOA,EAAI,OAAO,CAACmB,EAAKC,IACdD,GAAOC,EAAK,MACnB,CAAC,CACN,CAEA,SAASP,EAA2BQ,EAAG,CAMrC,GAAI,CAACA,EAAE,OAAO,QAAQ,yBAAyB,EAAG,OAGlD,MAAMC,EADYD,EAAE,OAAO,QAAQ,IAAI,EACV,QAAQ,GAM/BE,GAFJZ,EAAY,SAAU,GAAI,IAEqB,OAC/CS,GAAQA,EAAK,MAAQE,CACzB,EAEE,aAAa,QACX,kBACA,KAAK,UAAUC,CAA2B,CAC9C,EAEET,GACF"}