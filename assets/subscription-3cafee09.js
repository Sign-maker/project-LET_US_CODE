var l=Object.defineProperty;var d=(r,t,e)=>t in r?l(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var c=(r,t,e)=>(d(r,typeof t!="symbol"?t+"":t,e),e);import{a,S as u}from"./vendor-bb007519.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function e(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=e(o);fetch(o.href,s)}})();class y{constructor(t){this.storageName=t}setValue(t){localStorage.setItem(this.storageName,JSON.stringify(t))}getValue(){return JSON.parse(localStorage.getItem(this.storageName))}removeItem(){localStorage.removeItem(this.storageName)}}class S{constructor(t){c(this,"shopCart",[]);this.storageName=t,this.initStorage()}initStorage(){if(this.getAllProducts()){this.shopCart=this.getAllProducts();return}localStorage.setItem(this.storageName,JSON.stringify([]))}setProduct(t){t&&(this.shopCart.some(e=>e._id===t._id)||(this.shopCart.push(t),localStorage.setItem(this.storageName,JSON.stringify(this.shopCart))))}setAllProduct(t){localStorage.setItem(this.storageName,JSON.stringify(t))}getAllProducts(){return JSON.parse(localStorage.getItem(this.storageName))}removeProduct(t){this.shopCart=this.getAllProducts().filter(e=>e._id!==t),this.setAllProduct(this.shopCart)}removeAllProducts(){this.shopCart=[],this.setAllProduct(this.shopCart)}}a.defaults.baseURL="https://food-boutique.b.goit.study/api";class p{constructor(){}async getProductCategories(){const{data:t}=await a("/products/categories");return t}async getProducts(t){const{data:e}=await a("/products",{params:{...t}});return e}async getProductDetails(t){const{data:e}=await a(`/products/${t}`);return e}async getPopularProducts(){const{data:t}=await a("/products/popular");return t}async getDiscountedProducts(){const{data:t}=await a("/products/discount");return t}async subscribeToNewsletter(t){return await a.post("/subscription",t,{headers:{"Content-Type":"application/json"}})}async placeOrder(t){const{data:e}=await a.post("/orders",t,{headers:{"Content-Type":"application/json"}});return e}}const m=new p,f=document.querySelector('form[name="email_address"]');f.addEventListener("submit",async function(r){r.preventDefault();const t=r.currentTarget.elements["footer-input-email"],e=t.value;try{await m.subscribeToNewsletter({email:e}),t.value="",u.fire({icon:"success",title:"Successfully subscribed!",showConfirmButton:!0,confirmButtonColor:"#6D8434",showCancelButton:!1,customClass:{popup:"small-popup",title:"custom-title",icon:"custom-icon"}})}catch(i){console.error("Error:",i),u.fire({icon:"error",title:"Error",text:"There was an error subscribing. Please try again.",showConfirmButton:!0,confirmButtonColor:"#6D8434",showCancelButton:!1,customClass:{popup:"small-popup",title:"custom-title",icon:"custom-icon"}})}});export{p as F,S,y as a};
//# sourceMappingURL=subscription-3cafee09.js.map
