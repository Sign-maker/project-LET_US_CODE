{"version":3,"file":"commonHelpers2.js","sources":["../src/img/icons.svg","../src/js/markup-product-list.js","../src/js/render-product-list","../src/js/aside.js","../src/js/pagination/buttons.js","../src/js/pagination/pagination-handler.js","../src/js/home.js","../src/js/product-list-click.js","../src/js/modal-markup.js","../src/js/select.js","../src/js/modal-success.js"],"sourcesContent":["export default \"__VITE_ASSET__4a8417dd__\"","import icons from '../img/icons.svg';\n\nexport function markupProductsList(productsObj) {\n  return productsObj\n    .map(\n      ({\n        category,\n        img,\n        is10PercentOff,\n        name,\n        popularity,\n        price,\n        size,\n        _id,\n      }) => {\n        return `<li class=\"products-card-item js-card-item\" data-id=\"${_id}\">\n                <a class=\"products-card-link\" href=\"#\"><img class=\"product-image\" src=\"${img}\" alt=\"${name}\" /></a>\n                <a class=\"products-card-link\" href=\"#\"><h4 class=\"product-name\">${name}</h4></a>\n                <ul class=\"product-description-list\">\n                        <li><p class=\"product-text\">Category:<span class=\"product-text-black\"> ${category}</span>Size:<span class=\"product-text-black\"> ${size}</span></p></li>\n                        <li><p class=\"product-text product-text-popular\">Popularity:<span class=\"product-text-black\"> ${popularity}</span></p></li>\n                </ul>\n                <div class=\"wrap-prise-and-btn\">\n                    <p class=\"price\">$${price}</p>\n                    <button type=\"button\" class=\"btn btn-shopping-cart js-add-btn\">\n                        <svg class=\"icon-shopping-cart\" width=\"18\" height=\"18\">\n                            <use href=\"${icons}#icon-shopping-cart\" class=\"products-desc-basket\"></use>\n\n                            <use\n                              href=\"${icons}#icon-check\"\n                              class=\"products-desc-added\"\n                            ></use>\n                        </svg>\n                        \n                    </button>\n                </div>\n            </li>`;\n      }\n    )\n    .join('');\n}\n","import { markupProductsList } from './markup-product-list';\n\nexport function renderProductList(elemRef, products) {\n  elemRef.innerHTML = markupProductsList(products);\n}\n","import icons from '../img/icons.svg';\n\n//EXPORT TO HOME.JS STRING --------->  66\n\nfunction renderPopularProd(listenerPopularListRef, dataPopularProduct) {\n  listenerPopularListRef.innerHTML = markupPopular(dataPopularProduct);\n}\n\n// EXPORT TO HOME.JS STRING --------->  79\n\nfunction renderDiscountProd(listenerDiscountListRef, dataDiscountProduct) {\n    listenerDiscountListRef.innerHTML = markupDiscount(dataDiscountProduct);\n}\n\nfunction markupPopular(obj) {\n  return obj\n    .map(item => {\n      const { _id, name, img, category, size, popularity } = item;\n      return `<li class=\"popular-item js-card-item\" data-id=\"${_id}\">\n        <div class=\"popular-img-wrapper\">\n         <a class=\"products-card-link\" href=\"#\"> \n          <img\n            src=\"${img}\"\n            alt=\"${name}\"\n            class=\"popular-img\"\n          />\n          </a>\n        </div>\n        <div class=\"popular-desc-wrapper\">\n          <a class=\"products-card-link\" href=\"#\">\n          <h3 class=\"popular-desc-name\">${name}</h3>\n          </a>\n          <h4 class=\"popular-desc-text\">\n            Category: <span class=\"popular-desc-span\">${category}</span>\n          </h4>\n          <div class=\"popular-desc-inner\">\n            <h4 class=\"popular-desc-text\">\n              Size: <span class=\"popular-desc-span\">${size}</span>\n            </h4>\n            <h4 class=\"popular-desc-text\">\n              Popularity: <span class=\"popular-desc-span\">${popularity}</span>\n            </h4>\n          </div>\n        </div>\n        <button\n          type=\"button\"\n          class=\"popular-btn btn js-add-btn\"\n          aria-label=\"add the product to the basket\"\n        >\n          <svg class=\"popular-desc-svg\">\n            <use\n              href=\"${icons}#icon-shopping-cart\"\n              class=\"popular-desc-basket\"\n            ></use>\n            <use\n              href=\"${icons}#icon-check\"\n              class=\"popular-desc-added\"\n            ></use>\n          </svg>\n        </button>\n      </li>`;\n    })\n    .join('');\n}\n\nfunction markupDiscount(obj) {\n  const newArr = obj.slice(0, 2);\n  return newArr\n    .map(item => {\n      const { _id, name, img, price } = item;\n\n      return `<li class=\"discount-item js-card-item\" data-id=\"${_id}\">\n        <a class=\"products-card-link\" href=\"#\">\n        <div class=\"discount-img-wrapper\">\n          <img\n            src=\"${img}\"\n            alt=\"${name}\"\n            class=\"discount-img\"\n          />   \n        </div>\n        </a>\n        <div class=\"discount-desc-wrapper\">    \n        <a class=\"products-card-link\" href=\"#\">      \n            <p class=\"discount-desc-text\">${name}</p> \n            </a> \n          <div class=\"discount-box\">    \n            <p class=\"discount-desc-text\">$${price}</p>\n            <button\n              type=\"button\"\n              class=\"discount-btn btn js-add-btn\"\n              aria-label=\"add the product to the basket\"\n            >\n              <svg class=\"discount-desc-svg\">\n                <use\n                  href=\"${icons}#icon-shopping-cart\"\n                  class=\"discount-desc-basket \"\n                ></use>\n                <use\n                  href=\"${icons}#icon-check\"\n                  class=\"discount-desc-added\"\n                ></use>\n              </svg>\n            </button>\n          </div>\n        </div>\n        <div class=\"discount-box-label\">\n          <svg class=\"discount-label-svg\">\n            <use href=\"${icons}#icon-discount\"></use>\n          </svg>\n        </div>\n      </li>`;\n    })\n    .join('');\n}\n\nexport {renderPopularProd, renderDiscountProd, markupPopular, markupDiscount}\n","import icons from '../../img/icons.svg';\nexport class PaginationButtons {\n  constructor() {}\n  numBtnCreateMarkUp(num) {\n    return `<li class=\"buttons-item\">\n        <button class=\"pagination-btn num-btn\" type=\"button\" data-button-id=\"${num}\">${num}</button>\n      </li>`;\n  }\n  numBtnSetActive(num) {}\n  numBtnSetInactive(num) {}\n  numBtnChangeNum() {}\n\n  intervalBtnCreateMarkUp() {\n    return `<li class=\"buttons-item\">\n        <button class=\"pagination-btn interval-btn\" type=\"button\" data-button-id=\"interval\">...</button>\n      </li>`;\n  }\n  intervalBtnShow() {}\n  intervalBtnHide() {}\n\n  prevBtnCreateMarkUp() {\n    return `<li class=\"buttons-item\">\n        <button class=\"pagination-btn prev-btn\" type=\"button\" data-button-id=\"prev-btn\">\n          <svg class=\"icon-shopping-cart\" width=\"24\" height=\"24\">\n            <use href=\"${icons}#icon-caret-left\" class=\"pagination-arrows\" />\n          </svg>\n        </button>\n      </li>`;\n  }\n  nextBtnCreateMarkUp() {\n    return `<li class=\"buttons-item\">\n        <button class=\"pagination-btn next-btn\" type=\"button\" data-button-id=\"next-btn\">\n          <svg class=\"icon-shopping-cart\" width=\"24\" height=\"24\">\n            <use href=\"${icons}#icon-caret-right\" class=\"pagination-arrows\" />\n          </svg>\n        </button>\n      </li>`;\n  }\n  prevBtnSetActive(num) {}\n  prevBtnSetInactive(num) {}\n  nextBtnSetActive(num) {}\n  nextBtnSetInactive(num) {}\n}\n","import { PaginationButtons } from './buttons';\nimport { Storage } from '../local-storage-api';\nimport { getProducts } from '../home';\n\nexport function paginationHandler() {\n  const FIRST_VARIANT = 'variant1';\n  const SECOND_VARIANT = 'variant2';\n  const THIRD_VARIANT = 'variant3';\n  const ACTIVE_BTN = 'active-pagination-btn';\n  const PREV_BTN_ID = 'prev-btn';\n  const NEXT_BTN_ID = 'next-btn';\n  const INTERVAL_BTN_ID = 'interval';\n  const MAX_BUTTONS_COUNT = 5;\n  const PRODUCT_STORAGE = 'product-storage';\n  const FILTER_STORAGE = 'filter-storage';\n\n  const filterStorage = new Storage(FILTER_STORAGE);\n  const productStorage = new Storage(PRODUCT_STORAGE);\n  const pagButtons = new PaginationButtons();\n  const buttonsListRef = document.querySelector('.buttons-list');\n  buttonsListRef.addEventListener('click', onPagButtonsClick);\n  let currentPage = null;\n  let prevPage = null;\n\n  let firstPage = 1;\n\n  let lastPage = firstPage;\n\n  if (productStorage.getValue()) {\n    lastPage = +productStorage.getValue().totalPages;\n    currentPage = +productStorage.getValue().page;\n    renderMarkup(firstPage, lastPage, currentPage);\n  }\n\n  function renderMarkup(firstPage, lastPage, currentPage) {\n    if (lastPage === firstPage) {\n      //render empty list\n      //не забыть зафиксировать высоту, если нужно\n      buttonsListRef.innerHTML;\n      return;\n    }\n    buttonsListRef.innerHTML = createButtonsMarkup(\n      firstPage,\n      lastPage,\n      currentPage\n    );\n    setActiveBtnState(currentPage);\n    if (currentPage === firstPage) {\n      disableBtn(PREV_BTN_ID);\n    }\n    if (currentPage === lastPage) {\n      disableBtn(NEXT_BTN_ID);\n    }\n  }\n\n  function setActiveBtnState(pageNum) {\n    buttonsListRef\n      .querySelector(`[data-button-id='${pageNum}']`)\n      .classList.add(ACTIVE_BTN);\n  }\n\n  function setInactiveBtnState(pageNum) {\n    if (!buttonsListRef.querySelector(`[data-button-id='${pageNum}']`)) {\n      return;\n    }\n    buttonsListRef\n      .querySelector(`[data-button-id='${pageNum}']`)\n      .classList.remove(ACTIVE_BTN);\n  }\n\n  function disableBtn(buttonId) {\n    const btn = buttonsListRef.querySelector(`[data-button-id='${buttonId}']`);\n\n    btn.setAttribute('disabled', '');\n    btn.classList.add('disabled');\n  }\n\n  function onPagButtonsClick(event) {\n    const { target } = event;\n    if (!target.classList.contains('pagination-btn')) {\n      return;\n    }\n    if (target.classList.contains('num-btn')) {\n      console.dir(\n        `Запускаем обработчик нажатия на номер ${target.dataset.buttonId}`\n      );\n      numBtnClick(+target.dataset.buttonId);\n      filterStorage.setValue({\n        ...filterStorage.getValue(),\n        page: +target.dataset.buttonId,\n      });\n      getProducts(filterStorage.getValue());\n    }\n\n    if (target.classList.contains('prev-btn')) {\n      console.dir(`Запускаем обработчик нажатия на ${target.dataset.buttonId}`);\n      prevBtnClick();\n      filterStorage.setValue({\n        ...filterStorage.getValue(),\n        page: currentPage,\n      });\n      getProducts(filterStorage.getValue());\n    }\n    if (target.classList.contains('next-btn')) {\n      console.dir(`Запускаем обработчик нажатия на ${target.dataset.buttonId}`);\n      nextBtnClick();\n      filterStorage.setValue({\n        ...filterStorage.getValue(),\n        page: currentPage,\n      });\n      getProducts(filterStorage.getValue());\n    }\n  }\n  function numBtnClick(num) {\n    prevPage = currentPage;\n    currentPage = num;\n    renderMarkup(firstPage, lastPage, currentPage);\n    setActiveBtnState(currentPage);\n    //   setInactiveBtnState(prevPage);\n    if (currentPage === firstPage) {\n      disableBtn(PREV_BTN_ID);\n    }\n    if (currentPage === lastPage) {\n      disableBtn(NEXT_BTN_ID);\n    }\n  }\n\n  function prevBtnClick() {\n    prevPage = currentPage;\n    if (currentPage !== firstPage) {\n      currentPage -= 1;\n      renderMarkup(firstPage, lastPage, currentPage);\n      setActiveBtnState(currentPage);\n      // setInactiveBtnState(prevPage);\n      if (currentPage === firstPage) {\n        disableBtn(PREV_BTN_ID);\n      }\n    }\n  }\n  function nextBtnClick() {\n    prevPage = currentPage;\n    if (currentPage !== lastPage) {\n      currentPage += 1;\n      renderMarkup(firstPage, lastPage, currentPage);\n      setActiveBtnState(currentPage);\n      // setInactiveBtnState(prevPage);\n\n      if (currentPage === lastPage) {\n        disableBtn(NEXT_BTN_ID);\n      }\n    }\n  }\n\n  function selectVariant(firstPage, lastPage, currentPage) {\n    if (lastPage <= MAX_BUTTONS_COUNT) {\n      return FIRST_VARIANT;\n    }\n\n    if ((currentPage >= firstPage + 2) & (currentPage <= lastPage - 2)) {\n      return SECOND_VARIANT;\n    }\n    return THIRD_VARIANT;\n  }\n\n  function createButtonsMarkup(firstPage, lastPage, currentPage = 1) {\n    const {\n      prevBtnCreateMarkUp,\n      numBtnCreateMarkUp,\n      intervalBtnCreateMarkUp,\n      nextBtnCreateMarkUp,\n    } = pagButtons;\n\n    let markup = '';\n    const variant = selectVariant(firstPage, lastPage, currentPage);\n    console.log(variant);\n    if (variant === FIRST_VARIANT) {\n      let numButtonsMarkup = '';\n      for (let i = firstPage; i <= lastPage; i += 1) {\n        numButtonsMarkup += numBtnCreateMarkUp(i);\n      }\n      markup = prevBtnCreateMarkUp() + numButtonsMarkup + nextBtnCreateMarkUp();\n    }\n\n    if (variant === SECOND_VARIANT) {\n      markup =\n        prevBtnCreateMarkUp() +\n        numBtnCreateMarkUp(firstPage) +\n        intervalBtnCreateMarkUp() +\n        numBtnCreateMarkUp(currentPage) +\n        intervalBtnCreateMarkUp() +\n        numBtnCreateMarkUp(lastPage) +\n        nextBtnCreateMarkUp();\n    }\n    if (variant === THIRD_VARIANT) {\n      markup =\n        prevBtnCreateMarkUp() +\n        numBtnCreateMarkUp(firstPage) +\n        numBtnCreateMarkUp(firstPage + 1) +\n        intervalBtnCreateMarkUp() +\n        numBtnCreateMarkUp(lastPage - 1) +\n        numBtnCreateMarkUp(lastPage) +\n        nextBtnCreateMarkUp();\n    }\n\n    return markup;\n  }\n}\n","import { FoodBoutiqueAPI } from './food-api';\nimport { Storage, ShopStorage } from './local-storage-api';\nimport { renderProductList } from './render-product-list';\nimport { renderPopularProd, renderDiscountProd } from './aside';\nimport { filterHandler } from './filter';\nimport { paginationHandler } from './pagination/pagination-handler';\n\nconst FILTER_STORAGE = 'filter-storage';\nconst CATEGORY_STORAGE = 'category-storage';\nconst PRODUCT_STORAGE = 'product-storage';\nconst POPULARITY_STORAGE = 'popularity-storage';\nconst DISCOUNT_STORAGE = 'discount-storage';\nconst SHOP_STORAGE = 'shop-storage';\n\nconst INIT_FILTER_PARAMS = {\n  keyword: null,\n  category: null,\n  page: 1,\n  limit: 9,\n};\nconst productListRef = document.querySelector('.product-card-list');\nconst popularProductListRef = document.querySelector('.popular-list');\nconst discountProductListRef = document.querySelector('.discount-list');\nconst contentWrapperRef = document.querySelector('.content-wrapper');\nconst spanCartRef = document.querySelector('.js-header-navSpan');\n\nconst foodBoutique = new FoodBoutiqueAPI();\nconst filterStorage = new Storage(FILTER_STORAGE);\nconst categoryStorage = new Storage(CATEGORY_STORAGE);\nconst productStorage = new Storage(PRODUCT_STORAGE);\nconst popularityStorage = new Storage(POPULARITY_STORAGE);\nconst discountStorage = new Storage(DISCOUNT_STORAGE);\nconst shopStorage = new ShopStorage(SHOP_STORAGE);\n\nlet allItem;\n\ncontentWrapperRef.addEventListener('click', onButtonCartClick);\nif (!filterStorage.getValue()) {\n  filterStorage.setValue(INIT_FILTER_PARAMS);\n}\n\nconst filterParams = filterStorage.getValue();\ninitLoad(filterParams);\n\nasync function initLoad(filterParams) {\n  await getCategories();\n  await getProducts(filterParams);\n  await getPopularProducts();\n  await getDiscountedProducts();\n  allItem = addListenerToAllCard();\n  filterHandler();\n\n  paginationHandler();\n\n}\n\nchangeQuantityOrderedInBasket(shopStorage.getAllProducts());\n\nasync function getCategories() {\n  try {\n    // loader show\n    const productCategories = await foodBoutique.getProductCategories();\n    categoryStorage.setValue(productCategories);\n    // fillCategoryList (categoryListRef, categoryStorage.getValue());\n  } catch (error) {\n    console.log(error);\n  } finally {\n    //  loader hide\n  }\n}\n\nexport async function getProducts(filterParams) {\n  try {\n    // loader show\n    const products = await foodBoutique.getProducts(filterParams);\n    productStorage.setValue(products);\n    // if (!filterStorage.getValue()) {\n    //   filterStorage.setValue(filterParams);\n    // }\n    renderProductList(productListRef, productStorage.getValue().results);\n  } catch (error) {\n    console.log(error);\n  } finally {\n    // loader hide\n  }\n}\n\nasync function getPopularProducts() {\n  try {\n    // loader show\n    const popularProducts = await foodBoutique.getPopularProducts();\n    popularityStorage.setValue(popularProducts);\n    renderPopularProd(popularProductListRef, popularityStorage.getValue());\n  } catch (error) {\n    console.log(error);\n  } finally {\n    //  loader hide\n  }\n}\n\nasync function getDiscountedProducts() {\n  try {\n    // loader show\n    const discountedProducts = await foodBoutique.getDiscountedProducts();\n    discountStorage.setValue(discountedProducts);\n    renderDiscountProd(discountProductListRef, discountStorage.getValue());\n  } catch (error) {\n    console.log(error);\n  } finally {\n    //  loader hide\n  }\n}\n//-----------filter--------------------------------------------------------------------------\n\nfunction addListenerToAllCard() {\n  const li = document.querySelectorAll('.js-card-item');\n\n  getOverItems(li);\n  return li;\n}\n\nfunction getOverItems(arrNodeList) {\n  const arr = [...arrNodeList];\n\n\n  return arr.filter(item => {\n    const arrFromShop = shopStorage.getAllProducts();\n\n    return arrFromShop.map(obj => {\n      if (item.dataset.id === obj._id) {\n        // console.log(item);\n        const btnItemRef = document.querySelectorAll(\n\n          `[data-id=\"${obj._id}\"] .js-add-btn`\n        );\n        // console.log(btnItemRef);\n\n\n        if (typeof btnItemRef === 'object') {\n          [...btnItemRef].map(el => {\n            if (el.classList.contains('popular-btn')) {\n              el.style.backgroundColor = '#6d8434';\n            }\n            return el.classList.add('is-added');\n          });\n        } else {\n          if (btnItemRef.classList.contains('popular-btn')) {\n            btnItemRef.style.backgroundColor = '#6d8434';\n          }\n          btnItemRef.classList.add('is-added');\n\n        }\n      }\n    });\n  });\n}\n\nfunction onButtonCartClick(e) {\n  if (!e.target.closest('.js-add-btn')) return;\n  /////////////////////////////////////////////////////\n\n  const item = e.target.closest('li');\n  const idCard = item.dataset.id;\n  const isNewIDinBasket = checkNewIDinBasket(idCard);\n\n  if (isNewIDinBasket) return;\n\n  e.target.closest('button').classList.add('is-added');\n\n  if (e.target.closest('.popular-btn')) {\n    e.target.closest('.popular-btn').style.backgroundColor = '#6d8434';\n  }\n\n  const arrProdStor = productStorage.getValue().results;\n  const arrPopStor = popularityStorage.getValue();\n  const arrDiscStor = discountStorage.getValue();\n\n  const objFromProdStor = objFromLocStor(arrProdStor, idCard);\n  const objFromPopStor = objFromLocStor(arrPopStor, idCard);\n  const objFromDiscStor = objFromLocStor(arrDiscStor, idCard);\n\n  switch ('object') {\n    case typeof objFromProdStor:\n      shopStorage.setProduct(objFromProdStor);\n      break;\n    case typeof objFromPopStor:\n      shopStorage.setProduct(objFromPopStor);\n      break;\n    case typeof objFromDiscStor:\n      shopStorage.setProduct(objFromDiscStor);\n      break;\n    default:\n      alert('Нет таких значений');\n  }\n\n  changeButtonsOnClick(e, idCard);\n  changeQuantityOrderedInBasket(shopStorage.getAllProducts());\n\n  function getOverItems(cardId, arrNodeList) {\n    const arr = [...arrNodeList];\n    // const newArrById = arr.filter(item=>{\n    //   return item.dataset.id === cardId\n    // })\n    return arr.forEach(item => {\n      if (item.dataset.id === cardId) {\n        // console.dir(item.children);\n        item.classList.add('is-added');\n      }\n    });\n    // console.log(newArrById);\n  }\n\n  getOverItems(idCard, allItem);\n}\n\nfunction checkNewIDinBasket(id) {\n  const shopStorageProducts = shopStorage.getAllProducts();\n  if (shopStorageProducts === null) return\n  return shopStorageProducts.some(el => el._id === id);\n}\n\nfunction objFromLocStor(arrDataLocalStorage, idCard) {\n  const obj = arrDataLocalStorage.find(el => el._id === idCard);\n  return obj;\n}\n\nfunction changeQuantityOrderedInBasket(arrFromLocStor) {\n  let quantityOrdered = arrFromLocStor.length;\n  spanCartRef.textContent = quantityOrdered;\n}\n\nfunction changeButtonsOnClick(eventFromHandler, cardId) {\n\n  const productList = document.querySelector('.product-card-list');\n  const popularList = document.querySelector('.popular-list');\n  const discountList = document.querySelector('.discount-list');\n\n  const arrProduct = [...productList.children]\n  const arrDiscount = [...discountList.children]\n  const arrPopular = [...popularList.children]\n\n  if (eventFromHandler.target.closest('.products-wrapper')) {\n\n    arrPopular.forEach(el=>{\n      if (el.dataset.id === cardId) {\n        const elBtnRef = document.querySelector(`.popular-list [data-id=\"${el.dataset.id}\"] .js-add-btn`);\n        elBtnRef.classList.add('is-added');\n        elBtnRef.style.backgroundColor = '#6d8434'\n      }\n    })\n\n    arrDiscount.forEach(el=>{\n      if (el.dataset.id === cardId) {\n        const elBtnRef = document.querySelector(`.discount-list [data-id=\"${el.dataset.id}\"] .js-add-btn`);\n        elBtnRef.classList.add('is-added');\n      }\n    })\n  }\n\n  if (eventFromHandler.target.closest('.popular-list')) {\n\n    arrProduct.forEach(el=>{\n      if (el.dataset.id === cardId) {\n        const elBtnRef = document.querySelector(`.product-card-list [data-id=\"${el.dataset.id}\"] .js-add-btn`);\n        elBtnRef.classList.add('is-added');\n      }\n    })\n\n    arrDiscount.forEach(el=>{\n      if (el.dataset.id === cardId) {\n        const elBtnRef = document.querySelector(`.discount-list [data-id=\"${el.dataset.id}\"] .js-add-btn`);\n        console.log(elBtnRef);\n        elBtnRef.classList.add('is-added');\n      }\n    })\n  }\n\n  if (eventFromHandler.target.closest('.discount-list')) {\n\n    arrPopular.forEach(el=>{\n      if (el.dataset.id === cardId) {\n        const elBtnRef = document.querySelector(`.popular-list [data-id=\"${el.dataset.id}\"] .js-add-btn`);\n        elBtnRef.classList.add('is-added');\n        elBtnRef.style.backgroundColor = '#6d8434'\n      }\n    })\n\n    arrProduct.forEach(el=>{\n      if (el.dataset.id === cardId) {\n        const elBtnRef = document.querySelector(`.product-card-list [data-id=\"${el.dataset.id}\"] .js-add-btn`);\n        elBtnRef.classList.add('is-added');\n      }\n    })\n  }\n}\n","import { markupProductsList } from './markup-product-list';\nimport { openModal } from './modal-markup';\nimport { ShopStorage } from './local-storage-api';\nconst listEl = document.querySelector('.content-wrapper');\nlistEl.addEventListener('click', onClickCart);\n\n\n//   export function onClickCart(e) {\n//   e.preventDefault();\n//   const clickedElement = e.target;\n//   if (clickedElement.nodeName === 'IMG' || clickedElement.nodeName === 'H4') {\n//     const Id = clickedElement.closest('.products-card-item').dataset.id;\n//     openModal(Id);\n//   } else {\n//     return;\n//   }\n// }\n\nexport function onClickCart(e) {\n  e.preventDefault();\n  const clickedElement = e.target;\n  if (clickedElement.closest('a') && clickedElement.closest('.products-card-link')) {\n    const Id = clickedElement.closest('li').dataset.id;\n    openModal(Id);\n  } else {\n    return;\n  }\n}\n\n\n","import { FoodBoutiqueAPI } from './food-api';\nimport icons from '../img/icons.svg';\nimport { onClickCart } from './product-list-click';\nimport { ShopStorage } from './local-storage-api';\nconst modalEl = document.querySelector('.modal-prod-wrapper');\nconst SHOP_STORAGE = 'shop-storage';\nconst shopStorage = new ShopStorage(SHOP_STORAGE);\n\nexport async function openModal(Id) {\n  console.log(Id);\n  const api = new FoodBoutiqueAPI();\n  const productDetails = await api.getProductDetails(Id);\n  renderModal(productDetails);\n  isCurrentCart(productDetails);\n}\n\n//! Функція яка зберігає стан кнопки залежно від стану корзини\nfunction isCurrentCart (productDetails) {\n  const addBtnText = document.querySelector('.modal-prod-add-text');\n  const productId = productDetails._id;\n  const currentCart = shopStorage.getAllProducts();\n\n  if (currentCart.some(item => item._id === productId)) {\n    addBtnText.textContent = 'Remove from';\n  } else {\n    addBtnText.textContent = 'Add to';\n  }\n}\n\n//! Функція рендеру розмітки\nasync function renderModal(productDetails) {\n  try {\n    modalEl.classList.add('modal-active');\n    document.body.classList.add('stop-scroll');\n\n    modalEl.innerHTML = `\n  <div class=\"modal-prod-card\">\n  <button type=\"button\" class=\"modal-prod-close-btn\">\n    <svg class=\"modal-prod-close-icon\" width=\"22\" height=\"22\">\n      <use href=\"${icons}#icon-close\"></use>\n    </svg>\n  </button>\n  <div class=\"modal-prod-information-wrap\">\n  <div class=\"modal-prod-img-wrap\">   \n      <img class=\"modal-prod-img\" src=\"${productDetails.img}\" alt=\"${productDetails.name}\" />\n  </div> \n  <div class=\"modal-prod-name-wrap\">\n  <h2 class=\"modal-prod-name\">${productDetails.name}</h2>\n  <ul class=\"modal-prod-list\">\n    <li class=\"modal-prod-item\">\n      <h3 class=\"modal-prod-text\">Category: ${productDetails.category}</h3>\n    </li>\n    <li class=\"modal-prod-item\">\n      <h3 class=\"modal-prod-text\">Size: ${productDetails.size}</h3>\n    </li>\n    <li class=\"modal-prod-item\">\n      <h3 class=\"modal-prod-text\">Popularity: ${productDetails.popularity}</h3>\n    </li>\n  </ul>\n  <p class=\"modal-prod-desc\">${productDetails.desc}</p>\n  </div>\n  </div>\n  <div class=\"modal-prod-price-elem\">\n  <p class=\"modal-prod-price\">&#36;${productDetails.price}</p>\n  <button class=\"modal-prod-add-btn\">\n      <p class=\"modal-prod-add-text\">Add to</p>\n      <svg class=\"modal-prod-basket-icon\" >\n        <use href=\"${icons}#icon-shopping-cart\"></use>\n      </svg>\n  </button>\n  </div>\n  </div>\n  `;\n\n    const addBtn = document.querySelector('.modal-prod-add-btn');\n    addBtn.addEventListener('click', () => addToCart(productDetails));\n\n    const closeBtn = document.querySelector('.modal-prod-close-btn');\n    closeBtn.addEventListener('click', () => closeModal());\n\n    // Додаю слухачі подій\n    window.addEventListener('click', closeModalOnWindowClick);\n    window.addEventListener('keydown', closeModalOnEsc);\n  } catch (error) {\n    console.error(error);\n  }\n}\n\n//! Функція додавання в корзину и зміни стану кнопки\n export function addToCart(productDetails) {\n  const productId = productDetails._id;\n\n  const currentCart = shopStorage.getAllProducts();\n  const isProductInCart = currentCart.some(item => item._id === productId);\n  const addBtnText = document.querySelector('.modal-prod-add-text');\n\n  if (isProductInCart) {\n    addBtnText.textContent = 'Add to';\n    shopStorage.removeProduct(productId);\n  } else {\n    addBtnText.textContent = 'Remove from';\n    shopStorage.setProduct(productDetails);\n  }\n}\n//! Функція закриття модалки при кліку на хрестик\n\nfunction closeModal() {\n  modalEl.classList.remove('modal-active');\n  document.body.classList.remove('stop-scroll');\n\n  // Видаляю слухачі подій\n  window.removeEventListener('click', closeModalOnWindowClick);\n  window.removeEventListener('keydown', closeModalOnEsc);\n}\n\n//! Закриття модалки при кліку по бекдропу\n\nfunction closeModalOnWindowClick(e) {\n  if (e.target === modalEl) {\n    closeModal();\n  }\n}\n\n//! Закриття модалки при кліку на кнопку ESC\n\nfunction closeModalOnEsc(e) {\n  if (e.keyCode === 27) {\n    closeModal();\n  }\n}\n\n\n\n\n\n\n","const optionMenu = document.querySelector ('.custom-select-ctg');\nconst selectBtnCtg = optionMenu.querySelector('.categories-btn');\nconst options = optionMenu.querySelectorAll('.text-options');\nconst selectCtgInput = optionMenu.querySelector('.selected-option');\n\nselectBtnCtg.addEventListener('click', () => {\n  optionMenu.classList.toggle('active');\n});\n\nlet lastSelectedOption = null;\n\noptions.forEach(option => {\n  option.addEventListener('click', () => {\n    let selectedOption = option.innerText;\n\n    if (lastSelectedOption) {\n      lastSelectedOption.style.color = 'rgba(1, 1, 1, 0.5)';\n    }\n\n    selectCtgInput.value = selectedOption;\n    option.style.color = 'var(--text)';\n    optionMenu.classList.remove('active');\n    console.log(selectedOption);\n\n    lastSelectedOption = option;\n\n    // Здесь должен быть код для выполнения запроса к API с параметром selectedOption\n  });\n});\n\nconst sortMenu = document.querySelector('.custom-select-sort');\nconst selectBtnSort = sortMenu.querySelector('.sort-btn');\nconst optionsSort = sortMenu.querySelectorAll('.text-options-sort');\nconst selectInputSort = sortMenu.querySelector('.selected-option');\n\nselectBtnSort.addEventListener('click', () => {\n  sortMenu.classList.toggle('active');\n});\n\nlet lastSelectedOptionSort = null;\n\noptionsSort.forEach(option => {\n  option.addEventListener('click', () => {\n    let selectedOptionSort = option.innerText;\n\n   \n    if (lastSelectedOptionSort) {\n      lastSelectedOptionSort.style.color = 'rgba(1, 1, 1, 0.5)';\n    }\n\n    selectInputSort.value = selectedOptionSort;\n    option.style.color = 'var(--text)';\n    sortMenu.classList.remove('active');\n    console.log(selectedOptionSort);\n\n\n    lastSelectedOptionSort = option;\n\n    // Здесь должен быть код для выполнения запроса к API с параметром selectedOptionSort\n  });\n});\ndocument.addEventListener('click', function(event) {\n    const isClickInsideOptionMenu = optionMenu.contains(event.target);\n    const isClickInsideSortMenu = sortMenu.contains(event.target);\n  \n    if (!isClickInsideOptionMenu) {\n      optionMenu.classList.remove('active');\n    }\n  \n    if (!isClickInsideSortMenu) {\n      sortMenu.classList.remove('active');\n    }\n  });\n\ndocument.addEventListener('keyup', function(event) {\n    if (event.code === 'Escape') {\n      optionMenu.classList.remove('active');\n      sortMenu.classList.remove('active');\n    }\n  });\n\n\n\n// sortMenu.addEventListener('keydown', (event) => {\n//   if (event.code === 'Space') {\n//     sortMenu.classList.toggle('active');\n//     event.preventDefault();\n//   }\n// });\n\n// optionMenu.addEventListener('keydown', (event) => {\n//   if (event.code === 'Space') {\n//     optionMenu.classList.toggle('active');\n//     event.preventDefault();\n//   }\n// });\n\n","import { Storage } from \"./local-storage-api\";\nconst SHOP_STORAGE = 'shop-storage';\nconst shopStorage = new Storage(SHOP_STORAGE);\n\nconst modalSuccesEl = document.querySelector('.modal-order-wrap')\nconst opnBtn = document.querySelector('.open');\nopnBtn.addEventListener('click', () => openSuccessModal());\n\n\nexport function openSuccessModal(id) {\n    console.log(id);\n    modalSuccesEl.classList.add('modal-show-order');\n    document.body.classList.add('stop-scroll');\n  \n    modalSuccesEl.innerHTML = `\n    <div class=\"modal-order-succ\">\n    <button type=\"button\" class=\"modal-order-succ-btn\">\n      <svg class=\"modal-prod-close-icon\">\n        <use href=\"./img/icons.svg#icon-close\"></use>\n      </svg>\n    </button>\n    <div class=\"modal-prod-close-img-wrap\">\n      <img class=\"modal-prod-close-img\" src=\"\" alt=\"product picture\" />\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        height=\"68\"\n        viewBox=\"0 0 185 68\"\n        fill=\"none\"\n        class=\"modal-prod-close-shadow\"\n      >\n        <g filter=\"url(#filter0_f_185_1243)\">\n          <ellipse\n            cx=\"92.5\"\n            cy=\"34\"\n            rx=\"72.5\"\n            ry=\"14\"\n            fill=\"#010101\"\n            fill-opacity=\"0.1\"\n          />\n        </g>\n        <defs>\n          <filter\n            id=\"filter0_f_185_1243\"\n            x=\"0\"\n            y=\"0\"\n            width=\"185\"\n            height=\"68\"\n            filterUnits=\"userSpaceOnUse\"\n            color-interpolation-filters=\"sRGB\"\n          >\n            <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\" />\n            <feBlend\n              mode=\"normal\"\n              in=\"SourceGraphic\"\n              in2=\"BackgroundImageFix\"\n              result=\"shape\"\n            />\n            <feGaussianBlur\n              stdDeviation=\"10\"\n              result=\"effect1_foregroundBlur_185_1243\"\n            />\n          </filter>\n        </defs>\n      </svg>\n    </div>\n    <h2 class=\"modal-order-succ-title\">Order success</h2>\n    <p class=\"modal-order-succ-text\">\n      Thank you for shopping at Food Boutique. Your order has been received and\n      is now being freshly prepared just for you! Get ready to indulge in\n      nourishing goodness, delivered right to your doorstep. We're thrilled to\n      be part of your journey to better health and happiness.\n    </p>\n  </div>\n  `;\n    const closeBtn = document.querySelector('.modal-order-succ-btn');\n    closeBtn.addEventListener('click', closeSuccessModal);\n  \n    // Додаю слухачі подій\n    window.addEventListener('click', closeModalSuccess);\n    window.addEventListener('keydown', closeModalSuccessEsc);\n  }\n  \n  //! Функція закриття модалки при кліку на хрестик\n  \n  function closeSuccessModal() {\n    modalSuccesEl.classList.remove('modal-show-order');\n    document.body.classList.remove('stop-scroll');\n  \n    // Видаляю слухачі подій\n    window.removeEventListener('click', closeModalSuccess);\n    window.removeEventListener('keydown', closeModalSuccessEsc);\n}\n  \n  \n  //! Закриття модалки при кліку по бекдропу\n  function closeModalSuccess(e) {\n    if (e.target === modalSuccesEl) {\n        closeSuccessModal();\n    }\n  }\n  \n  //! Закриття модалки при кліку на кнопку ESC\n  \n  function closeModalSuccessEsc(e) {\n    if (e.keyCode === 27) {\n        closeSuccessModal();\n    }\n  }\n\n"],"names":["icons","markupProductsList","productsObj","category","img","is10PercentOff","name","popularity","price","size","_id","renderProductList","elemRef","products","renderPopularProd","listenerPopularListRef","dataPopularProduct","markupPopular","renderDiscountProd","listenerDiscountListRef","dataDiscountProduct","markupDiscount","obj","item","PaginationButtons","num","paginationHandler","FIRST_VARIANT","SECOND_VARIANT","THIRD_VARIANT","ACTIVE_BTN","PREV_BTN_ID","NEXT_BTN_ID","PRODUCT_STORAGE","FILTER_STORAGE","filterStorage","Storage","productStorage","pagButtons","buttonsListRef","onPagButtonsClick","currentPage","firstPage","lastPage","renderMarkup","createButtonsMarkup","setActiveBtnState","disableBtn","pageNum","buttonId","btn","event","target","numBtnClick","getProducts","prevBtnClick","nextBtnClick","selectVariant","prevBtnCreateMarkUp","numBtnCreateMarkUp","intervalBtnCreateMarkUp","nextBtnCreateMarkUp","markup","variant","numButtonsMarkup","i","CATEGORY_STORAGE","POPULARITY_STORAGE","DISCOUNT_STORAGE","SHOP_STORAGE","INIT_FILTER_PARAMS","productListRef","popularProductListRef","discountProductListRef","contentWrapperRef","spanCartRef","foodBoutique","FoodBoutiqueAPI","categoryStorage","popularityStorage","discountStorage","shopStorage","ShopStorage","allItem","onButtonCartClick","filterParams","initLoad","getCategories","getPopularProducts","getDiscountedProducts","addListenerToAllCard","changeQuantityOrderedInBasket","productCategories","error","popularProducts","discountedProducts","li","getOverItems","arrNodeList","btnItemRef","el","e","idCard","checkNewIDinBasket","arrProdStor","arrPopStor","arrDiscStor","objFromProdStor","objFromLocStor","objFromPopStor","objFromDiscStor","changeButtonsOnClick","cardId","id","shopStorageProducts","arrDataLocalStorage","arrFromLocStor","quantityOrdered","eventFromHandler","productList","popularList","discountList","arrProduct","arrDiscount","arrPopular","elBtnRef","listEl","onClickCart","clickedElement","Id","openModal","modalEl","productDetails","renderModal","isCurrentCart","addBtnText","productId","addToCart","closeModal","closeModalOnWindowClick","closeModalOnEsc","isProductInCart","optionMenu","selectBtnCtg","options","selectCtgInput","lastSelectedOption","option","selectedOption","sortMenu","selectBtnSort","optionsSort","selectInputSort","lastSelectedOptionSort","selectedOptionSort","isClickInsideOptionMenu","isClickInsideSortMenu","modalSuccesEl","opnBtn","openSuccessModal","closeSuccessModal","closeModalSuccess","closeModalSuccessEsc"],"mappings":"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"}