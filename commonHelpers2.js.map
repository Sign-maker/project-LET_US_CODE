{"version":3,"file":"commonHelpers2.js","sources":["../src/js/food-api.js","../src/js/test-api.js","../src/js/aside.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://food-boutique.b.goit.study/api';\n\nexport class FoodBoutiqueAPI {\n  constructor() {}\n\n  // Отримати категорії продуктів\n  async getProductCategories() {\n    const { data } = await axios('/products/categories');\n    return data;\n  }\n  async getProducts(requestParams) {\n    // використовуємо axios params\n    const { data } = await axios(`/products`, {\n      params: {\n        ...requestParams,\n      },\n    });\n    return data;\n  }\n\n  // Отримати деталі продукту\n  async getProductDetails(productId) {\n    const { data } = await axios(`/products/${productId}`);\n    return data;\n  }\n\n  // Отримати популярні продукти\n  async getPopularProducts() {\n    const { data } = await axios('/products/popular');\n    return data;\n  }\n\n  // Отримати продукти зі знижкою\n  async getDiscountedProducts() {\n    const { data } = await axios('/products/discount');\n    return data;\n  }\n\n  // Підписатися на розсилку новин\n  async subscribeToNewsletter(userData) {\n    const data = await axios.post('/subscription', userData, {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    return data;\n  }\n\n  // Зробити замовлення продуктів\n  async placeOrder(orderData) {\n    const { data } = await axios.post('/orders', orderData, {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    return data;\n  }\n}\n","import { FoodBoutiqueAPI } from './food-api';\nconst foodBoutique = new FoodBoutiqueAPI();\n\nasync function testApi() {\n  try {\n    const productCategories = await foodBoutique.getProductCategories();\n    console.log('productCategories', productCategories);\n\n    // ==========================================\n    const requestParams = {\n      keyword: 'apple',\n      category: 'Fresh_Produce',\n      byABC: true,\n      byPrice: true,\n      byPopularity: true,\n      page: 1,\n      limit: 6,\n    };\n    const products = await foodBoutique.getProducts(requestParams);\n    console.log('products', products);\n\n    //   ======================================\n    const productId = '640c2dd963a319ea671e3676';\n    const productsDetails = await foodBoutique.getProductDetails(productId);\n    console.log('productsDetails', productsDetails);\n\n    //  ============================================\n    const popularProducts = await foodBoutique.getPopularProducts();\n    console.log('popularProducts', popularProducts);\n\n    // ==========================================\n\n    const discountedProducts = await foodBoutique.getDiscountedProducts();\n    console.log('discountedProducts', discountedProducts);\n\n    // ==========================================\n    const orderData = {\n      email: 'test@gmail.com',\n      products: [\n        {\n          productId: '640c2dd963a319ea671e383b',\n          amount: 2,\n        },\n      ],\n    };\n    const placeOrder = await foodBoutique.placeOrder(orderData);\n    console.log('placeOrder', placeOrder);\n\n    // ==========================================\n\n    const userData = {\n      email: 'test@gmail.com',\n    };\n    const subscribeToNewsletter = await foodBoutique.subscribeToNewsletter(\n      userData\n    );\n    console.log('subscribeToNewsletter', subscribeToNewsletter);\n\n    // ==========================================\n  } catch {\n    error => console.log('помилка', error);\n  } finally {\n  }\n}\n\ntestApi();\n","import { FoodBoutiqueAPI } from './food-api';\n\nconst foodBoutiqueAPI = new FoodBoutiqueAPI();\n\nconst popularListRef = document.querySelector('.popular-list');\nconst discountListRef = document.querySelector('.discount-list');\n\nasync function popularProd() {\n  try {\n    const popularProducts = await foodBoutiqueAPI.getPopularProducts();\n\n    popularListRef.innerHTML = markupPopular(popularProducts);\n  } catch (error) {\n    error => console.log('ERROR', error);\n  }\n}\npopularProd();\n\nasync function discountedProd() {\n  try {\n    const discProd = await foodBoutiqueAPI.getDiscountedProducts();\n\n    discountListRef.innerHTML = markupDiscount(discProd);\n  } catch (error) {\n    error => console.log('ERROR', error);\n  }\n}\n\ndiscountedProd();\n\nfunction markupPopular(obj) {\n  return obj\n    .map(item => {\n      const { _id, name, img, category, size, popularity } = item;\n      return `<li class=\"popular-item\" id=\"${_id}\">\n        <div class=\"popular-img-wrapper\">\n          <img\n            src=\"${img}\"\n            alt=\"${name}\"\n            class=\"popular-img\"\n          />\n        </div>\n        <div class=\"popular-desc-wrapper\">\n          <h3 class=\"popular-desc-name\">${name}</h3>\n          <h4 class=\"popular-desc-text\">\n            Category: <span class=\"popular-desc-span\">${category}</span>\n          </h4>\n          <div class=\"popular-desc-inner\">\n            <h4 class=\"popular-desc-text\">\n              Size: <span class=\"popular-desc-span\">${size}</span>\n            </h4>\n            <h4 class=\"popular-desc-text\">\n              Popularity: <span class=\"popular-desc-span\">${popularity}</span>\n            </h4>\n          </div>\n        </div>\n        <button\n          type=\"button\"\n          class=\"popular-btn btn\"\n          aria-label=\"add the product to the basket\"\n        >\n          <svg class=\"popular-desc-svg\">\n            <use\n              href=\"./icons.svg#icon-shopping-cart\"\n              class=\"popular-desc-basket \"\n            ></use>\n            <use\n              href=\"./icons.svg#icon-check\"\n              class=\"popular-desc-added is-hidden\"\n            ></use>\n          </svg>\n        </button>\n      </li>`;\n    })\n    .join('');\n}\n\nfunction markupDiscount(obj) {\n  const newArr = obj.slice(0, 2);\n  return newArr\n    .map(item => {\n      const { _id, name, img, price } = item;\n\n      return `<li class=\"discount-item\" id=\"${_id}\">\n        <div class=\"discount-img-wrapper\">\n          <img\n            src=\"${img}\"\n            alt=\"${name}\"\n            class=\"discount-img\"\n          />\n        </div>\n        <div class=\"discount-desc-wrapper\">\n          <p class=\"discount-desc-text\">${name}</p>\n          <div class=\"discount-box\">\n            <p class=\"discount-desc-text\">$${price}</p>\n            <button\n              type=\"button\"\n              class=\"discount-btn btn\"\n              aria-label=\"add the product to the basket\"\n            >\n              <svg class=\"discount-desc-svg\">\n                <use\n                  href=\"./icons.svg#icon-shopping-cart\"\n                  class=\"discount-desc-basket is-hidden\"\n                ></use>\n                <use\n                  href=\"./icons.svg#icon-check\"\n                  class=\"discount-desc-added\"\n                ></use>\n              </svg>\n            </button>\n          </div>\n        </div>\n        <div class=\"discount-box-label\">\n          <svg class=\"discount-label-svg\">\n            <use href=\"./icons.svg#icon-discount\"></use>\n          </svg>\n        </div>\n      </li>`;\n    })\n    .join('');\n}\n"],"names":["axios","FoodBoutiqueAPI","data","requestParams","productId","userData","orderData","foodBoutique","testApi","productCategories","products","productsDetails","popularProducts","discountedProducts","placeOrder","subscribeToNewsletter","foodBoutiqueAPI","popularListRef","discountListRef","popularProd","markupPopular","discountedProd","discProd","markupDiscount","obj","item","_id","name","img","category","size","popularity","price"],"mappings":"+EAEAA,EAAM,SAAS,QAAU,yCAElB,MAAMC,CAAgB,CAC3B,aAAc,CAAE,CAGhB,MAAM,sBAAuB,CAC3B,KAAM,CAAE,KAAAC,CAAM,EAAG,MAAMF,EAAM,sBAAsB,EACnD,OAAOE,CACR,CACD,MAAM,YAAYC,EAAe,CAE/B,KAAM,CAAE,KAAAD,CAAM,EAAG,MAAMF,EAAM,YAAa,CACxC,OAAQ,CACN,GAAGG,CACJ,CACP,CAAK,EACD,OAAOD,CACR,CAGD,MAAM,kBAAkBE,EAAW,CACjC,KAAM,CAAE,KAAAF,CAAI,EAAK,MAAMF,EAAM,aAAaI,GAAW,EACrD,OAAOF,CACR,CAGD,MAAM,oBAAqB,CACzB,KAAM,CAAE,KAAAA,CAAM,EAAG,MAAMF,EAAM,mBAAmB,EAChD,OAAOE,CACR,CAGD,MAAM,uBAAwB,CAC5B,KAAM,CAAE,KAAAA,CAAM,EAAG,MAAMF,EAAM,oBAAoB,EACjD,OAAOE,CACR,CAGD,MAAM,sBAAsBG,EAAU,CAOpC,OANa,MAAML,EAAM,KAAK,gBAAiBK,EAAU,CACvD,QAAS,CACP,eAAgB,kBACjB,CACP,CAAK,CAGF,CAGD,MAAM,WAAWC,EAAW,CAC1B,KAAM,CAAE,KAAAJ,CAAI,EAAK,MAAMF,EAAM,KAAK,UAAWM,EAAW,CACtD,QAAS,CACP,eAAgB,kBACjB,CACP,CAAK,EAED,OAAOJ,CACR,CACH,CC5DA,MAAMK,EAAe,IAAIN,EAEzB,eAAeO,GAAU,CACvB,GAAI,CACF,MAAMC,EAAoB,MAAMF,EAAa,uBAC7C,QAAQ,IAAI,oBAAqBE,CAAiB,EAGlD,MAAMN,EAAgB,CACpB,QAAS,QACT,SAAU,gBACV,MAAO,GACP,QAAS,GACT,aAAc,GACd,KAAM,EACN,MAAO,CACb,EACUO,EAAW,MAAMH,EAAa,YAAYJ,CAAa,EAC7D,QAAQ,IAAI,WAAYO,CAAQ,EAGhC,MAAMN,EAAY,2BACZO,EAAkB,MAAMJ,EAAa,kBAAkBH,CAAS,EACtE,QAAQ,IAAI,kBAAmBO,CAAe,EAG9C,MAAMC,EAAkB,MAAML,EAAa,qBAC3C,QAAQ,IAAI,kBAAmBK,CAAe,EAI9C,MAAMC,EAAqB,MAAMN,EAAa,wBAC9C,QAAQ,IAAI,qBAAsBM,CAAkB,EAGpD,MAAMP,EAAY,CAChB,MAAO,iBACP,SAAU,CACR,CACE,UAAW,2BACX,OAAQ,CACT,CACF,CACP,EACUQ,EAAa,MAAMP,EAAa,WAAWD,CAAS,EAC1D,QAAQ,IAAI,aAAcQ,CAAU,EAIpC,MAAMT,EAAW,CACf,MAAO,gBACb,EACUU,EAAwB,MAAMR,EAAa,sBAC/CF,CACN,EACI,QAAQ,IAAI,wBAAyBU,CAAqB,CAG9D,MAAI,CAEJ,QAAY,CACT,CACH,CAEAP,EAAS,EC/DT,MAAMQ,EAAkB,IAAIf,EAEtBgB,EAAiB,SAAS,cAAc,eAAe,EACvDC,EAAkB,SAAS,cAAc,gBAAgB,EAE/D,eAAeC,GAAc,CAC3B,GAAI,CACF,MAAMP,EAAkB,MAAMI,EAAgB,qBAE9CC,EAAe,UAAYG,EAAcR,CAAe,CACzD,MAAC,CAED,CACH,CACAO,IAEA,eAAeE,GAAiB,CAC9B,GAAI,CACF,MAAMC,EAAW,MAAMN,EAAgB,wBAEvCE,EAAgB,UAAYK,EAAeD,CAAQ,CACpD,MAAC,CAED,CACH,CAEAD,IAEA,SAASD,EAAcI,EAAK,CAC1B,OAAOA,EACJ,IAAIC,GAAQ,CACX,KAAM,CAAE,IAAAC,EAAK,KAAAC,EAAM,IAAAC,EAAK,SAAAC,EAAU,KAAAC,EAAM,WAAAC,CAAY,EAAGN,EACvD,MAAO,gCAAgCC;AAAA;AAAA;AAAA,mBAG1BE;AAAA,mBACAD;AAAA;AAAA;AAAA;AAAA;AAAA,0CAKuBA;AAAA;AAAA,wDAEcE;AAAA;AAAA;AAAA;AAAA,sDAIFC;AAAA;AAAA;AAAA,4DAGMC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAqB5D,CAAK,EACA,KAAK,EAAE,CACZ,CAEA,SAASR,EAAeC,EAAK,CAE3B,OADeA,EAAI,MAAM,EAAG,CAAC,EAE1B,IAAIC,GAAQ,CACX,KAAM,CAAE,IAAAC,EAAK,KAAAC,EAAM,IAAAC,EAAK,MAAAI,CAAK,EAAKP,EAElC,MAAO,iCAAiCC;AAAA;AAAA;AAAA,mBAG3BE;AAAA,mBACAD;AAAA;AAAA;AAAA;AAAA;AAAA,0CAKuBA;AAAA;AAAA,6CAEGK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAyB7C,CAAK,EACA,KAAK,EAAE,CACZ"}